import{j as e,u as D,r as o,C as B,S as I,I as Z,c as m,y as R,z as A,A as E,J as M}from"./index-Bk_5QplK.js";import{T as U,a as $,b as G}from"./tabs-Bgrybwmo.js";import{u as O,A as p,a as u,g as j,b,c as f,d as w}from"./avatar-DdseYVQZ.js";import{g as Q}from"./statusConfigs-DJkoG-UX.js";import"./circle-x-DakC9dnq.js";const q=a=>e.jsxs("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[e.jsx("path",{d:"M14.2497 17.571H6.29743C3.91174 17.571 2.32129 16.321 2.32129 13.4043V7.57096C2.32129 4.6543 3.91174 3.4043 6.29743 3.4043H14.2497C16.6354 3.4043 18.2258 4.6543 18.2258 7.57096V13.4043C18.2258 16.321 16.6354 17.571 14.2497 17.571Z",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M14.2491 7.98828L11.7601 10.0716C10.941 10.7549 9.59706 10.7549 8.77798 10.0716L6.29688 7.98828",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]}),z=a=>e.jsxs("svg",{width:19,height:21,viewBox:"0 0 19 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[e.jsx("path",{d:"M17.0334 9.23763V13.4043C17.0334 16.321 15.5472 17.571 13.3178 17.571H5.88653C3.65715 17.571 2.1709 16.321 2.1709 13.4043V7.57096C2.1709 4.6543 3.65715 3.4043 5.88653 3.4043H11.0884",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M5.88672 7.98828L8.21271 10.0716C8.97813 10.7549 10.234 10.7549 10.9994 10.0716L11.8763 9.28828",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M15.1752 7.15495C16.2012 7.15495 17.033 6.22221 17.033 5.07161C17.033 3.92102 16.2012 2.98828 15.1752 2.98828C14.1492 2.98828 13.3174 3.92102 13.3174 5.07161C13.3174 6.22221 14.1492 7.15495 15.1752 7.15495Z",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})]}),J=a=>e.jsxs("svg",{width:22,height:21,viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[e.jsx("path",{d:"M19.3763 10.071V13.4043C19.3763 16.321 17.6655 17.571 15.0993 17.571H6.54548C3.97932 17.571 2.26855 16.321 2.26855 13.4043V7.57096C2.26855 4.6543 3.97932 3.4043 6.54548 3.4043H10.8224",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M6.54492 7.98828L9.22228 10.0716C10.1033 10.7549 11.5489 10.7549 12.43 10.0716",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M17.2203 2.8375L17.4598 3.31249C17.5795 3.54583 17.8789 3.7625 18.1441 3.8125L18.4691 3.8625C19.4443 4.02083 19.6752 4.72083 18.9738 5.4125L18.6744 5.70416C18.4777 5.90416 18.3665 6.28749 18.4264 6.55416L18.4691 6.72917C18.7343 7.87917 18.1099 8.32082 17.0834 7.72082L16.861 7.59583C16.5958 7.44583 16.1681 7.44583 15.903 7.59583L15.6806 7.72082C14.6456 8.32915 14.0211 7.87917 14.2949 6.72917L14.3376 6.55416C14.3975 6.28749 14.2863 5.90416 14.0896 5.70416L13.7902 5.4125C13.0888 4.72083 13.3197 4.02083 14.2949 3.8625L14.6199 3.8125C14.8765 3.77083 15.1844 3.54583 15.3042 3.31249L15.5437 2.8375C16.0056 1.92917 16.7584 1.92917 17.2203 2.8375Z",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}),K=a=>e.jsxs("svg",{width:22,height:21,viewBox:"0 0 22 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[e.jsx("path",{d:"M19.3763 10.071V13.4043C19.3763 16.321 17.6655 17.571 15.0993 17.571H6.54548C3.97932 17.571 2.26855 16.321 2.26855 13.4043V7.57096C2.26855 4.6543 3.97932 3.4043 6.54548 3.4043H10.8224",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M6.54492 7.98828L9.22228 10.0716C10.1033 10.7549 11.5489 10.7549 12.43 10.0716",strokeWidth:1.5,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M17.2203 2.8375L17.4598 3.31249C17.5795 3.54583 17.8789 3.7625 18.1441 3.8125L18.4691 3.8625C19.4443 4.02083 19.6752 4.72083 18.9738 5.4125L18.6744 5.70416C18.4777 5.90416 18.3665 6.28749 18.4264 6.55416L18.4691 6.72917C18.7343 7.87917 18.1099 8.32082 17.0834 7.72082L16.861 7.59583C16.5958 7.44583 16.1681 7.44583 15.903 7.59583L15.6806 7.72082C14.6456 8.32915 14.0211 7.87917 14.2949 6.72917L14.3376 6.55416C14.3975 6.28749 14.2863 5.90416 14.0896 5.70416L13.7902 5.4125C13.0888 4.72083 13.3197 4.02083 14.2949 3.8625L14.6199 3.8125C14.8765 3.77083 15.1844 3.54583 15.3042 3.31249L15.5437 2.8375C16.0056 1.92917 16.7584 1.92917 17.2203 2.8375Z",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}),re=()=>{const a=D(),[c,P]=o.useState("all"),[d,F]=o.useState(""),[h,g]=o.useState(0),[C]=o.useState(20),S=s=>s==="all"?null:s,V=o.useMemo(()=>{const s={page:h,limit:C,...d&&{search:d}};return c!=="all"&&(s.status=S(c)),s},[h,C,d,c]),{data:i,isLoading:T,error:W}=O(V),v=(i==null?void 0:i.data)||[],x=(i==null?void 0:i.meta)||{};o.useEffect(()=>{const s=setTimeout(()=>{g(0)},500);return()=>clearTimeout(s)},[d]);const _=s=>{P(s),g(0)},H=s=>{a(`/dashboard/disputes/${s}`)};return e.jsxs("div",{className:"w-full px-4 md:px-10 pt-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Disputes & support"}),e.jsx("p",{className:"text-gray-600",children:"Here is all your Kormat analytics overview"})]}),e.jsxs(B,{className:"shadow-none rounded-[8px] bg-white p-4 w-full",children:[e.jsx("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between mb-8",children:e.jsxs("div",{className:"relative flex-1 max-w-[400px]",children:[e.jsx(I,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(Z,{placeholder:"Search for ticket",value:d,onChange:s=>F(s.target.value),className:"pl-10 bg-[#FBFBFB] border-[#E7E7E7]"})]})}),e.jsx(U,{value:c,onValueChange:_,className:"w-full",children:e.jsx($,{className:"mb-6 justify-start bg-transparent !h-fit items-center border-b border-[#E7E7E7] !p-0 gap-10 md:gap-20 overflow-x-auto w-full rounded-none",children:[{key:"all",label:"All",icon:q},{key:"pending",label:"Pending",icon:z},{key:"ongoing",label:"On-Going",icon:J},{key:"resolved",label:"Resolved",icon:K}].map(({key:s,label:t,icon:r})=>e.jsxs(G,{value:s,className:"pb-3 !px-0 !w-fit !h-full data-[state=active]:border-b-[3px] data-[state=active]:border-primary data-[state=active]:!text-primary data-[state=active]:font-regular data-[state=active]:font-outfit font-outfit rounded-none bg-transparent font-regular leading-[140%] text-sm flex gap-2 text-[#646464]",children:[e.jsx(r,{className:m("",c==s?"stroke-primary":"stroke-[#646464]")}),e.jsx("span",{children:t})]},s))})}),e.jsxs("div",{children:[T?e.jsx("div",{className:"w-full mt-4 h-[300px] flex justify-center items-center",children:e.jsx(R,{})}):W?e.jsx("div",{className:"w-full mt-4 h-[300px] flex justify-center items-center",children:e.jsx("h3",{className:"text-xl font-medium text-red-500",children:"Error loading disputes. Please try again."})}):v&&v.length>0?e.jsxs("div",{className:"border border-[#E7E7E7] rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"hidden md:grid md:grid-cols-[1fr_120px_140px_100px_150px_40px] bg-[#FAFAFA] px-4 py-3 text-xs font-medium text-[#646464] uppercase tracking-wide border-b border-[#E7E7E7]",children:[e.jsx("span",{children:"Dispute"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Amount"}),e.jsx("span",{children:"Product"}),e.jsx("span",{children:"Parties"}),e.jsx("span",{})]}),e.jsx("div",{className:"divide-y divide-[#E7E7E7]",children:v.map(s=>{var k,L,y;const t=(k=s==null?void 0:s.order)==null?void 0:k.buyer,r=(L=s==null?void 0:s.order)==null?void 0:L.seller,N=(y=s==null?void 0:s.order)==null?void 0:y.product,n=s==null?void 0:s.order,l=Q(s.status);return e.jsxs("div",{className:"group bg-white hover:bg-[#FAFAFA] transition-colors cursor-pointer",onClick:()=>H(s.id),children:[e.jsxs("div",{className:"hidden md:grid md:grid-cols-[1fr_120px_140px_100px_150px_40px] items-center px-4 py-3 gap-2",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-[#1A1A1A] truncate mb-0.5",children:s.reason||"Dispute"}),e.jsxs("p",{className:"text-xs text-[#939393]",children:["#",s.ticketNumber," ·"," ",A(s.createdAt)]})]}),e.jsx("div",{children:e.jsxs("span",{className:m("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium",l.bg,l.color),children:[e.jsx("span",{className:m("w-1.5 h-1.5 rounded-full",s.status==="pending"&&"bg-amber-500",s.status==="ongoing"&&"bg-blue-500",s.status==="resolved"&&"bg-green-500")}),l.label]})}),e.jsx("div",{className:"text-sm font-semibold text-[#1A1A1A]",children:n!=null&&n.agreedPrice?E(n.agreedPrice):"—"}),e.jsx("div",{className:"text-sm text-[#646464] truncate",children:(N==null?void 0:N.name)||"—"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex -space-x-2",children:[t&&e.jsxs(p,{className:"h-7 w-7 border-2 border-white",children:[e.jsx(u,{src:j(t)||"/placeholder.svg"}),e.jsx(b,{className:"text-[9px] bg-blue-50 text-blue-600",children:f(t)})]}),r&&e.jsxs(p,{className:"h-7 w-7 border-2 border-white",children:[e.jsx(u,{src:j(r)||"/placeholder.svg"}),e.jsx(b,{className:"text-[9px] bg-orange-50 text-orange-600",children:f(r)})]})]}),e.jsx("span",{className:"ml-2 text-xs text-[#939393] truncate",children:t&&r?`${w(t).split(" ")[0]} vs ${w(r).split(" ")[0]}`:t?w(t):"—"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(M,{className:"h-4 w-4 text-[#C4C4C4] group-hover:text-primary transition-colors"})})]}),e.jsxs("div",{className:"md:hidden p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-[#1A1A1A] mb-1",children:s.reason||"Dispute"}),e.jsxs("p",{className:"text-xs text-[#939393]",children:["#",s.ticketNumber," ·"," ",A(s.createdAt)]})]}),e.jsxs("span",{className:m("inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-[10px] font-medium shrink-0",l.bg,l.color),children:[e.jsx("span",{className:m("w-1.5 h-1.5 rounded-full",s.status==="pending"&&"bg-amber-500",s.status==="ongoing"&&"bg-blue-500",s.status==="resolved"&&"bg-green-500")}),l.label]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex -space-x-2",children:[t&&e.jsxs(p,{className:"h-6 w-6 border-2 border-white",children:[e.jsx(u,{src:j(t)||"/placeholder.svg"}),e.jsx(b,{className:"text-[8px] bg-blue-50 text-blue-600",children:f(t)})]}),r&&e.jsxs(p,{className:"h-6 w-6 border-2 border-white",children:[e.jsx(u,{src:j(r)||"/placeholder.svg"}),e.jsx(b,{className:"text-[8px] bg-orange-50 text-orange-600",children:f(r)})]})]}),e.jsx("span",{className:"text-sm font-semibold text-[#1A1A1A]",children:n!=null&&n.agreedPrice?E(n.agreedPrice):"—"})]}),e.jsx(M,{className:"h-4 w-4 text-[#C4C4C4]"})]})]})]},s.id)})})]}):e.jsx("div",{className:"w-full mt-4 h-[300px] flex justify-center items-center",children:e.jsx("h3",{className:"text-xl font-medium",children:"No tickets found"})}),x.totalPages>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6",children:[e.jsx("button",{onClick:()=>g(s=>Math.max(0,s-1)),disabled:h===0,className:"px-4 py-2 border border-[#E7E7E7] rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#FAFAFA] transition-colors",children:"Previous"}),e.jsxs("span",{className:"text-sm text-[#939393]",children:["Page ",x.currentPage," of ",x.totalPages]}),e.jsx("button",{onClick:()=>g(s=>Math.min(x.totalPages-1,s+1)),disabled:h>=x.totalPages-1,className:"px-4 py-2 border border-[#E7E7E7] rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#FAFAFA] transition-colors",children:"Next"})]})]})]})]})};export{re as default};
