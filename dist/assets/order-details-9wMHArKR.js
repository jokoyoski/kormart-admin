import{K as w,w as I,u as O,j as e,C as t,ap as l,ar as v,c as C}from"./index-Bk_5QplK.js";import{a as V}from"./get-orders-YtaMIWLM.js";import{E as L,D as E,B as M,L as U,S as _,c,a,b as r,U as n}from"./DetailLayout-9VEvmZ8O.js";import{b as N,c as D}from"./statusConfigs-DJkoG-UX.js";import"./circle-x-DakC9dnq.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],S=w("package",F);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],$=w("shopping-bag",R),W=()=>{var o,m,x,u,p,b,j,h,y,g;const{id:P}=I(),d=O(),{data:i,isLoading:k,error:A}=V(P),s=i==null?void 0:i.data;return A?e.jsx(L,{title:"Order Not Found",message:"The order you're looking for doesn't exist or has been removed.",backButtonLabel:"Back to Orders",onBack:()=>d("/dashboard/orders")}):e.jsxs(E,{children:[e.jsx(M,{onClick:()=>d("/dashboard/orders")}),k?e.jsx(U,{}):s?e.jsxs("div",{className:"space-y-4",children:[e.jsxs(t,{className:"p-8 bg-gradient-to-br from-primary50 to-white border-2 border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx($,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray600 mb-1",children:"Order Amount"}),e.jsx("h2",{className:"text-3xl font-bold text-gray900",children:l(s.agreedPrice)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[e.jsx(_,{status:s.orderStatus,config:N(s.orderStatus)}),e.jsx(c,{status:s.paymentStatus,config:D(s.paymentStatus)})]})]}),e.jsxs("div",{className:"space-y-2",children:[((o=s.product)==null?void 0:o.description)&&e.jsx("p",{className:"text-sm text-gray700",children:s.product.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray600",children:[e.jsx("span",{className:"font-mono",children:s.orderId||s.id}),s.transactionReference&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Ref: ",s.transactionReference]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(t,{className:"p-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray900 mb-4 flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5 text-primary"}),"Order Details"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(a,{label:"Order ID",value:s.orderId,mono:!0}),e.jsx(a,{label:"Agreed Price",value:l(s.agreedPrice)}),((m=s.product)==null?void 0:m.price)&&e.jsx(a,{label:"Original Price",value:l(s.product.price)}),e.jsxs("div",{className:"flex items-center justify-between py-2.5 border-b border-gray100 last:border-0",children:[e.jsx("span",{className:"text-sm text-gray600",children:"Order Status"}),e.jsx(c,{status:s.orderStatus,config:N(s.orderStatus)})]}),e.jsxs("div",{className:"flex items-center justify-between py-2.5 border-b border-gray100 last:border-0",children:[e.jsx("span",{className:"text-sm text-gray600",children:"Payment Status"}),e.jsx(c,{status:s.paymentStatus,config:D(s.paymentStatus)})]}),e.jsx(a,{label:"Created",value:v(s.createdAt)}),e.jsx(a,{label:"Updated",value:v(s.updatedAt)})]})]}),s.product&&e.jsxs(t,{className:"p-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray900 mb-4 flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5 text-primary"}),"Product Details"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(a,{label:"Product Name",value:s.product.name}),e.jsx(a,{label:"Price",value:l(s.product.price)}),e.jsx(r,{label:"Negotiable",value:s.product.isNegotiable}),e.jsxs("div",{className:"flex items-center justify-between py-2.5 border-b border-gray100 last:border-0",children:[e.jsx("span",{className:"text-sm text-gray600",children:"Status"}),e.jsx("span",{className:C("px-2.5 py-1 rounded-full text-xs font-medium",s.product.isSold?"bg-error50 text-error":"bg-success50 text-success"),children:s.product.isSold?"Sold":"Available"})]}),e.jsx(a,{label:"State",value:s.product.state}),e.jsx(a,{label:"Phone",value:s.product.telephone}),s.product.address&&e.jsxs("div",{className:"pt-2 border-t border-gray100",children:[e.jsx("span",{className:"text-sm text-gray600 block mb-1",children:"Address"}),e.jsx("span",{className:"text-sm text-gray900 font-medium",children:s.product.address})]})]})]}),s.buyer&&e.jsxs(t,{className:"p-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray900 mb-4 flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-primary"}),"Buyer Information"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(a,{label:"Full Name",value:(x=s.buyer.userDetails)==null?void 0:x.fullName}),e.jsx(a,{label:"Username",value:(u=s.buyer.userDetails)==null?void 0:u.username}),e.jsx(a,{label:"Email",value:s.buyer.email}),e.jsx(a,{label:"Phone",value:(p=s.buyer.userDetails)==null?void 0:p.telephone}),e.jsx(r,{label:"Active",value:s.buyer.isActive}),e.jsx(r,{label:"Verified",value:s.buyer.isVerified})]})]}),s.seller&&e.jsxs(t,{className:"p-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray900 mb-4 flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-primary"}),"Seller Information"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(a,{label:"Full Name",value:(b=s.seller.userDetails)==null?void 0:b.fullName}),e.jsx(a,{label:"Username",value:(j=s.seller.userDetails)==null?void 0:j.username}),e.jsx(a,{label:"Email",value:s.seller.email}),e.jsx(a,{label:"Phone",value:(h=s.seller.userDetails)==null?void 0:h.telephone}),e.jsx(r,{label:"Active",value:s.seller.isActive}),e.jsx(r,{label:"Verified",value:s.seller.isVerified})]})]}),((s==null?void 0:s.deliveryInformation)||((y=s==null?void 0:s.deliveryProofDocuments)==null?void 0:y.length)>0)&&e.jsxs(t,{className:"p-6 lg:col-span-2",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray900 mb-4 flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-primary"}),"Delivery Information"]}),e.jsxs("div",{className:"space-y-1",children:[(s==null?void 0:s.deliveryInformation)&&e.jsx(a,{label:"Delivery Information",value:s.deliveryInformation}),(s==null?void 0:s.deliveryProofDocuments)&&((g=s==null?void 0:s.deliveryProofDocuments)==null?void 0:g.length)>0&&e.jsxs("div",{className:"flex items-center justify-between py-2.5 border-b border-gray100 last:border-0",children:[e.jsx("span",{className:"text-sm text-gray600",children:"Delivery Proof Documents"}),e.jsx("div",{className:"flex flex-col gap-2 items-end max-w-[60%]",children:s.deliveryProofDocuments.map((B,f)=>e.jsxs("button",{onClick:()=>window.open(B,"_blank","noopener,noreferrer"),className:"text-sm text-gray900 font-medium hover:text-primary transition-colors",children:["View Document"," ",s.deliveryProofDocuments.length>1?`${f+1}`:""]},f))})]})]})]})]})]}):null]})};export{W as default};
